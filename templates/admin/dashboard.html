{% extends "layouts/admin_layout.html" %}
{% block title %}Admin Dashboard{% endblock %}
{% block content %}


<div class="classes-grid">
       <!-- Class Cards -->
    {% for cls in classes %}
    <a href="{{ url_for('admin_class_detail', class_id=cls._id) }}" class="text-decoration-none">
        <div class="class-card">
            <div class="class-header" style="background-color: #3c4043;"></div>
            <div class="class-body">
                <h5 class="class-title">{{ cls.class_name }}</h5>
                <div class="class-section">{{ cls.created_by_name }}</div>
            </div>
        </div>
    </a>
    {% endfor %}

    <script>
        // Function to generate a random gradient color
        function getRandomGradient() {
            const colors = ['#ff6b6b', '#6bc1ff', '#6bff95', '#ffde6b', '#c36bff', '#ff6bde', '#6bfff4'];
            const color1 = colors[Math.floor(Math.random() * colors.length)];
            let color2 = colors[Math.floor(Math.random() * colors.length)];
            // Ensure color2 is not the same as color1
            while (color1 === color2) {
                color2 = colors[Math.floor(Math.random() * colors.length)];
            }
            return `linear-gradient(135deg, ${color1}, ${color2})`;
        }

        // Apply random gradient to all class headers
        document.querySelectorAll('.class-header').forEach(header => {
            header.style.background = getRandomGradient();
        });
    </script>

    <!-- Add Class Card -->
    <!-- Create Class Card -->
    <div class="class-card">
        <div class="add-class-card text-center" data-bs-toggle="modal" data-bs-target="#createClassModal"
            style="cursor: pointer;">
            <i class="fas fa-plus-circle add-class-icon"></i>
            <p class="mt-2">Create class</p>
        </div>
    </div>

    <!-- Create Class Modal -->
    <div class="modal fade" id="createClassModal" tabindex="-1" aria-labelledby="createClassLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content shadow">
                <div class="modal-header text-secondary">
                    <h5 class="modal-title" id="createClassLabel"><i class="fas fa-plus-circle me-2"></i>Create New
                        Class</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form method="POST" action="{{ url_for('create_class') }}">
                        <!-- Class Name -->
                        <div class="mb-3">
                            <label for="className" class="form-label">Class Name</label>
                            <input type="text" class="form-control" name="className" id="className"
                                placeholder="e.g. Algebra II" required>
                        </div>

                        <!-- Description -->
                        <div class="mb-3">
                            <label for="classDescription" class="form-label">Description</label>
                            <textarea class="form-control" name="classDescription" id="classDescription" rows="3"
                                placeholder="Brief description about the class"></textarea>
                        </div>

                        <!-- Buttons -->
                        <div class="d-flex justify-content-end">
                            <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-primary"><i
                                    class="fas fa-save me-1"></i>Create</button>
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>


</div>


{% endblock %}